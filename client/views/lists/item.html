<template name="itemExpanded">
  <div class="touch-point-expanded">
    <div class="item-overlay overlay">
      <div class="up-level"><i class="icon-up"></i> Back to flow</div>
      <div class="touch-point-container">
        <div class="column-left">
          {{> editableItem this}}
          <button class="archive"><i class="icon-briefcase archive bounceIn"></i> Archive touch point</button>
          {{> areas}}
        </div>
        <div class="column-right">
          <div class="comments">
            {{> comments this}}
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="areas">
  <div class="areas">
    <ul>
      {{#each areas}}
        {{> area this}}
      {{/each}}
    </ul>

    <i class="icon-bubble-chat-1 new-area"></i><input type="text" class="new-area new-area-text" placeholder="Area name..." />
    <button class="post-area">Add area <i class="icon-enter"></i></button>
  </div>
</template>


<template name="comments">
  <div class="comments">
    <ul>
      {{#each comments}}
        {{> comment this}}
      {{/each}}
    </ul>
    <h3>Add a note</h3>
    <input type="text" class="new-comment new-comment-text" placeholder="Note text..." />
    <button class="post-comment">Add note <i class="icon-enter"></i></button>
    <div class="clear"></div>
  </div>
</template>

<template name="comment">
  <li class="comment {{this.color}}">
    <div><input class="comment-text" value="{{this.name}}"></div>
    <div class="person"><small>Posted by <strong>{{this.person}}</strong></small></div>
    <i class="archive-comment icon-briefcase"></i>
  </li>
</template>

<template name="area">
  <li class="area {{this.color}}"><input class="area-text" value="{{this.name}}"><i class="archive-area icon-briefcase"></i></li>
</template>

<template name="item">
  <li class="item {{this.color}}" data-id="{{this.index}}" id="{{this._id}}"><div class="touch-point-text">{{this.name}}</div> <i class="icon-open bounceIn expand"></i></li>
</template>

<template name="editableItem">
  <li class="item {{this.color}}" data-id="{{this.index}}" id="{{this._id}}">
    <input value="{{this.name}}" class="item-edit"/></li>
  </template>
